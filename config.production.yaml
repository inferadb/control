# InferaDB Control Configuration - Production Template

control:
  listen:
    http: "0.0.0.0:9090"
    grpc: "0.0.0.0:9091"
    mesh: "0.0.0.0:9092"

  storage: "ledger"

  # Ledger storage configuration - configure via environment variables:
  # INFERADB__CONTROL__LEDGER__ENDPOINT
  # INFERADB__CONTROL__LEDGER__CLIENT_ID
  # INFERADB__CONTROL__LEDGER__NAMESPACE_ID

  webauthn:
    party: "example.com"
    origin: "https://example.com"

  key_file: "/var/lib/inferadb/master.key"

  email:
    host: "<SMTP-HOST>"
    port: 587
    # username: "<SMTP-USERNAME>"
    # password: "<SMTP-PASSWORD>"
    address: "noreply@example.com"
    name: "InferaDB"

  limits:
    login_attempts_per_ip_per_hour: 100
    registrations_per_ip_per_day: 5
    email_verification_tokens_per_hour: 5
    password_reset_tokens_per_hour: 3

  mesh:
    url: "http://inferadb-engine.inferadb"
    grpc: 8081
    port: 8082

  discovery:
    mode:
      type: kubernetes
    cache_ttl: 30
